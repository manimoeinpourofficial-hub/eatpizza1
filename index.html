<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Eat Pizza Final Edition</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="style.css">

  <!-- Firebase compat (Ù…Ø«Ù„ Ù†Ø³Ø®Ù‡Ù” Ù‚Ø¨Ù„ Ø®ÙˆØ¯Øª) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.11/firebase-firestore-compat.js"></script>
</head>
<body>
  <div id="frame">
    <div id="gameContainer">
      <canvas id="gameCanvas"></canvas>

      <!-- HUD -->
      <div id="hud">
        <div class="hud-left">
          <div id="hudScore" class="hud-pill">Score: 0</div>
          <div id="hudHigh" class="hud-pill">High: 0</div>
          <div id="hudMode" class="hud-chip">Mode: NORMAL</div>
        </div>
        <div class="hud-right">
          <div id="hudAmmo" class="hud-pill small">Ammo: 0</div>
          <div id="hudHunger" class="hud-pill small">Hunger: 0%</div>
          <div id="hudMiss" class="hud-pill small">Miss: 0/3</div>
          <div id="hudSpeed" class="hud-chip small">Speed: 1.0</div>
          <div id="hudPC" class="hud-pill pc-pill">PC: 0</div>
          <button id="pauseBtn" class="icon-btn">II</button>
        </div>
      </div>

      <!-- Status toast -->
      <div id="statusToast"></div>

      <!-- LOADING -->
      <div id="loadingScreen" class="overlay">
        <div class="menu-box">
          <h1 class="logo">ğŸ• Eat Pizza</h1>
          <p class="subtitle">Final Edition Â· ANFO</p>
          <div class="loading-bar">
            <div id="loadingFill" class="loading-fill"></div>
          </div>
          <div id="loadingPercent" class="loading-percent">0%</div>
        </div>
      </div>

      <!-- START MENU -->
      <div id="startMenu" class="overlay hidden">
        <div class="menu-box">
          <h1 class="logo">ğŸ• Eat Pizza</h1>
          <p class="subtitle">Fast Â· Cute Â· Dangerous</p>

          <div class="mode-row">
            <button class="mode-btn" data-mode-start="easy">Easy</button>
            <button class="mode-btn primary" data-mode-start="normal">Normal</button>
            <button class="mode-btn danger" data-mode-start="hard">Hard</button>
          </div>

          <div class="menu-row">
            <button class="menu-icon-btn" data-action="shop">
              ğŸ›’<span>Shop</span>
            </button>
            <button class="menu-icon-btn" data-action="daily">
              ğŸ”¥<span>Daily</span>
            </button>
            <button class="menu-icon-btn" data-action="weekly">
              â­<span>Weekly</span>
            </button>
            <button class="menu-icon-btn" data-action="leaderboard">
              ğŸ†<span>Top</span>
            </button>
          </div>

          <div class="menu-row">
            <button class="menu-icon-btn" data-action="skins">
              ğŸ­<span>Skins</span>
            </button>
            <button class="menu-icon-btn" data-action="login">
              ğŸ‘¤<span>Profile</span>
            </button>
            <button class="menu-icon-btn" data-action="voice" id="voiceCheatBtn">
              ğŸ¤<span>Voice</span>
            </button>
            <button class="menu-icon-btn" data-action="settings">
              âš™ï¸<span>Settings</span>
            </button>
          </div>

          <div class="voice-row">
            <span class="voice-label">Voice Cheat:</span>
            <span id="voiceCheatState">Off</span>
            <span class="voice-hint">say: â€œANFO Ultra Modeâ€</span>
          </div>

          <div id="profileDisplay" class="profile-display hidden">
            <img id="profileAvatar" class="profile-avatar" src="avatar1.png" alt="">
            <span id="profileName" class="profile-name">Player</span>
          </div>

          <div class="bottom-hint">
            <span>Tap to move Â· Double-tap / Space to shoot</span>
          </div>
        </div>
      </div>

      <!-- PAUSE MENU -->
      <div id="pauseMenu" class="overlay hidden">
        <div class="menu-box small">
          <h2 id="pauseTitle">Paused</h2>
          <div id="pauseMain">
            <button class="menu-btn primary" onclick="togglePause()">Resume</button>
            <button class="menu-btn" onclick="goToMainMenu()">Main Menu</button>
          </div>
          <div id="pauseSettings" class="pause-settings">
            <div class="setting-row">
              <span>Sound</span>
              <button class="toggle-chip" onclick="toggleSound()">
                <span id="soundState">On</span>
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- PROFILE MENU -->
      <div id="profileMenu" class="modal hidden">
        <div class="modal-content profile-box">
          <h2>Profile</h2>
          <input id="usernameInput" class="input" placeholder="Your name">
          <div class="avatar-row">
            <div class="avatar" data-id="avatar1">
              <img src="avatar1.png" alt="">
            </div>
            <div class="avatar" data-id="avatar2">
              <img src="avatar2.png" alt="">
            </div>
            <div class="avatar" data-id="avatar3">
              <img src="avatar3.png" alt="">
            </div>
            <div class="avatar" data-id="avatar4">
              <img src="avatar4.png" alt="">
            </div>
          </div>
          <div class="modal-actions">
            <button id="saveProfileBtn" class="menu-btn primary">Save</button>
            <button id="closeProfileBtn" class="menu-btn">Close</button>
          </div>
        </div>
      </div>

      <!-- SKIN MENU -->
      <div id="skinMenu" class="modal hidden">
        <div class="modal-content">
          <h2>Skins</h2>
          <div class="skin-list"></div>
          <button class="menu-btn" onclick="closeSkinMenu()">Close</button>
        </div>
      </div>

      <!-- SHOP MENU -->
      <div id="shopMenu" class="modal hidden">
        <div class="modal-content">
          <h2>Shop</h2>
          <p class="small-sub">Spend PC to unlock special skins</p>
          <div class="shop-list"></div>
          <button class="menu-btn" onclick="closeShopMenu()">Close</button>
        </div>
      </div>

      <!-- DAILY CHALLENGES -->
      <div id="challengeMenu" class="modal hidden">
        <div class="modal-content">
          <h2>ğŸ”¥ Daily Challenges</h2>
          <div id="challengeList"></div>
          <button class="menu-btn" onclick="closeChallengeMenu()">Close</button>
        </div>
      </div>

      <!-- WEEKLY CHALLENGES -->
      <div id="weeklyMenu" class="modal hidden">
        <div class="modal-content">
          <h2>â­ Weekly Challenges</h2>
          <div id="weeklyList"></div>
          <button class="menu-btn" onclick="closeWeeklyMenu()">Close</button>
        </div>
      </div>

      <!-- LEADERBOARD -->
      <div id="leaderboardMenu" class="modal hidden">
        <div class="modal-content">
          <h2>ğŸ† Leaderboard</h2>
          <div class="leaderboard-list"></div>
          <button class="menu-btn" onclick="closeLeaderboard()">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script>
    // Firebase init â€“ Ø§Ø² Ú©Ø§Ù†ÙÛŒÚ¯ Ø®ÙˆØ¯Øª
    const firebaseConfig = {
      apiKey: "AIzaSyB8PV0S43tJdZYAgwSsXq5fpBrcukczgec",
      authDomain: "eat-pizza-b1651.firebaseapp.com",
      projectId: "eat-pizza-b1651",
      storageBucket: "eat-pizza-b1651.firebasestorage.app",
      messagingSenderId: "691132791942",
      appId: "1:691132791942:web:90070f3e73940e6916e507",
      measurementId: "G-GKJ6YS8G4E"
    };
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db = firebase.firestore();
  </script>

  <script src="eat-pizza-final-edition.js"></script>
</body>
</html>
